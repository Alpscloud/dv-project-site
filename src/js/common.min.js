document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".input__file");Array.prototype.forEach.call(e,function(e){var t=e.parentNode,s=t.innerHTML;e.addEventListener("change",function(e){var i="",n=t.nextElementSibling;n.classList.contains("active")&&n.classList.remove("active"),(i=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?(n.innerHTML=i,n.classList.add("is-active")):t.innerHTML=s})})}),$(document).ready(function(){var e,t=$("body");t.width();$(".js-smooth-scroll-link").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),s=$(t).offset().top;$("html, body").animate({scrollTop:s},"slow")}),$(".js-open-popup-btn").on("click",function(e){e.preventDefault(),$(".js-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(e){e.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(e){e.stopPropagation();var t=$(this).find(".popup__body");t.is(e.target)||0!==t.has(e.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))}),$(window).on("scroll",function(){clearTimeout(e),t.hasClass("disable-hover")||t.addClass("disable-hover"),e=setTimeout(function(){t.removeClass("disable-hover")},200)}),$(".js-open-mobile-menu-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(".js-nav").stop().slideToggle(150)});new Swiper(".js-portfolio-desktop-slider",{speed:500,spaceBetween:0,slidesPerView:1,pagination:{el:".js-portfolio-desktop-slider-pagination",clickable:!0},navigation:{nextEl:".js-portfolio-desktop-slider-btn-next",prevEl:".js-portfolio-desktop-slider-btn-prev"},autoplay:{delay:5e3,disableOnInteraction:!1}}),new Swiper(".js-portfolio-mobile-slider",{slidesPerView:"auto",speed:500,spaceBetween:0,navigation:{nextEl:".js-portfolio-mobile-slider-btn-next",prevEl:".js-portfolio-mobile-slider-btn-prev",disabledClass:"is-disabled"}}),new Swiper(".js-licenses-slider",{slidesPerView:"auto",touchRatio:1,speed:500,spaceBetween:0,touchRatio:0,autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:".js-licenses-slider-btn-next",prevEl:".js-licenses-slider-btn-prev",disabledClass:"is-disabled"},breakpoints:{620:{slidesPerView:3,touchRatio:0,autoplay:{delay:4e3,disableOnInteraction:!1}}}}),new Swiper(".js-feedbacks-slider",{slidesPerView:1,speed:500,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!0},spaceBetween:0,navigation:{nextEl:".js-feedbacks-slider-btn-next",prevEl:".js-feedbacks-slider-btn-prev",disabledClass:"is-disabled"}});if($(".js-project-slider-main").length>0){var s=new Swiper(".js-project-slider-thumbnails",{spaceBetween:10,slidesPerView:3,loop:!0,freeMode:!1,loopedSlides:1,watchSlidesVisibility:!0,watchSlidesProgress:!0,touchRatio:0});new Swiper(".js-project-slider-main",{spaceBetween:0,loop:!0,loopedSlides:1,navigation:{nextEl:".js-project-slider-main-btn-next",prevEl:".js-project-slider-main-btn-prev"},thumbs:{swiper:s}})}$("[data-fancybox]").fancybox({toolbar:!1,smallBtn:!0}),$(".js-toggle-feedback-text-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-toggled"),$(this).parents(".feedback").find(".feedback__text span").stop().slideToggle(150)}),$(".js-toggle-faq").on("click",function(e){e.preventDefault(),$(this).parents(".faq__item").toggleClass("is-toggled"),$(this).parents(".faq__item").find(".faq__item--body").stop().slideToggle(170)}),$(".js-input").on("focus",function(){$(this).hasClass("is-error")&&$(this).removeClass("is-error")}),$(".js-form").on("submit",function(e){e.preventDefault();var t=$(this),s=t.find(".js-input"),i=!0,n=new FormData(t.get(0));if($(s).each(function(){$(this).val()&&""!=$(this).val()||($(this).addClass("is-error"),i=!1)}),!i)return!1;$.ajax({contentType:!1,processData:!1,type:"POST",url:"/wp-content/themes/dv-project-theme/contacts.php",data:n}).done(function(){t.trigger("reset"),t.find(".input__file--name").removeClass("is-active"),alert("Спасибо! Ваша заявка отправлена!")})}),$(".js-input-phone").mask("+7(999)-999-99-99",{placeholder:" "})});